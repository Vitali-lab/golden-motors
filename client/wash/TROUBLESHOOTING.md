# üîß –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

## –û—à–∏–±–∫–∞ "EMFILE: too many open files" –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ —Å–µ—Ä–≤–µ—Ä–∞

–ï—Å–ª–∏ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ `npm run dev:server` –≤–æ–∑–Ω–∏–∫–∞–µ—Ç –æ—à–∏–±–∫–∞:
```
Error: EMFILE: too many open files, watch
```

### –†–µ—à–µ–Ω–∏–µ 1: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ nodemon (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```bash
cd server
npm install nodemon --save-dev
cd ..
npm run dev:server
```

### –†–µ—à–µ–Ω–∏–µ 2: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–æ—Å—Ç–æ–π –∑–∞–ø—É—Å–∫ –±–µ–∑ watch

```bash
npm run dev:server:simple
```

–°–µ—Ä–≤–µ—Ä –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è –±–µ–∑ –∞–≤—Ç–æ–ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏. –ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Ñ–∞–π–ª–æ–≤ –Ω—É–∂–Ω–æ –±—É–¥–µ—Ç –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞—Ç—å –≤—Ä—É—á–Ω—É—é (Ctrl+C –∏ —Å–Ω–æ–≤–∞ –∑–∞–ø—É—Å—Ç–∏—Ç—å).

### –†–µ—à–µ–Ω–∏–µ 3: –£–≤–µ–ª–∏—á—å—Ç–µ –ª–∏–º–∏—Ç –æ—Ç–∫—Ä—ã—Ç—ã—Ö —Ñ–∞–π–ª–æ–≤ (macOS/Linux)

**macOS:**
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–µ–∫—É—â–∏–π –ª–∏–º–∏—Ç
ulimit -n

# –í—Ä–µ–º–µ–Ω–Ω–æ —É–≤–µ–ª–∏—á—å—Ç–µ (–¥–æ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞)
ulimit -n 4096

# –ò–ª–∏ –¥–æ–±–∞–≤—å—Ç–µ –≤ ~/.zshrc –∏–ª–∏ ~/.bash_profile:
ulimit -n 4096
```

**Linux:**
```bash
# –í—Ä–µ–º–µ–Ω–Ω–æ
ulimit -n 4096

# –ü–æ—Å—Ç–æ—è–Ω–Ω–æ - –¥–æ–±–∞–≤—å—Ç–µ –≤ /etc/security/limits.conf:
* soft nofile 4096
* hard nofile 4096
```

## –î—Ä—É–≥–∏–µ –ø—Ä–æ–±–ª–µ–º—ã

### –°–µ—Ä–≤–µ—Ä –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –ø–æ—Ä—Ç 3001 —Å–≤–æ–±–æ–¥–µ–Ω:**
```bash
lsof -i :3001
# –ï—Å–ª–∏ –∑–∞–Ω—è—Ç, —É–±–µ–π—Ç–µ –ø—Ä–æ—Ü–µ—Å—Å –∏–ª–∏ –∏–∑–º–µ–Ω–∏—Ç–µ PORT –≤ .env
```

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —É—Å—Ç–∞–Ω–æ–≤–∫—É –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π:**
```bash
cd server
npm install
```

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–∞–π–ª .env:**
```bash
cd server
cat .env
# –î–æ–ª–∂–Ω—ã –±—ã—Ç—å —É–∫–∞–∑–∞–Ω—ã TELEGRAM_BOT_TOKEN –∏ TELEGRAM_CHAT_ID
```

### –§–æ—Ä–º–∞ –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12)** - —Ç–∞–º –±—É–¥—É—Ç –æ—à–∏–±–∫–∏
2. **–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω** –Ω–∞ –ø–æ—Ä—Ç—É 3001
3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ CORS** - —Å–µ—Ä–≤–µ—Ä –¥–æ–ª–∂–µ–Ω —Ä–∞–∑—Ä–µ—à–∞—Ç—å –∑–∞–ø—Ä–æ—Å—ã —Å —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞

### –°–æ–æ–±—â–µ–Ω–∏—è –Ω–µ –ø—Ä–∏—Ö–æ–¥—è—Ç –≤ Telegram

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–æ–∫–µ–Ω –±–æ—Ç–∞** –≤ `server/.env`
2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ CHAT_ID** –≤ `server/.env`
3. **–û—Ç–ø—Ä–∞–≤—å—Ç–µ –±–æ—Ç—É —Å–æ–æ–±—â–µ–Ω–∏–µ** - —ç—Ç–æ –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç —á–∞—Ç
4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞** - —Ç–∞–º –±—É–¥—É—Ç –æ—à–∏–±–∫–∏ –æ—Ç–ø—Ä–∞–≤–∫–∏

### –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –Ω–µ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è

```bash
# –û—á–∏—Å—Ç–∏—Ç–µ –∫—ç—à npm
npm cache clean --force

# –£–¥–∞–ª–∏—Ç–µ node_modules –∏ package-lock.json
rm -rf node_modules package-lock.json
rm -rf server/node_modules server/package-lock.json

# –ü–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ
npm install
cd server && npm install
```
